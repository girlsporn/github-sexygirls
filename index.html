const videoContainer = document.getElementById('video-container');
        const redirectMessage = document.getElementById('redirect-message');
        const countdownElement = document.getElementById('countdown');
        const redirectURL = 'https://sexgirlpor.com/amateur-reverse-cowgirl-fuck-with-juicy-creampie-nofacegirl'; // Reemplaza con tu URL de destino
        const videoURL = ''; // Reemplaza con la URL DIRECTA de tu video (ej: archivo .mp4, .webm)
        const iframeCode = '<iframe src="https://es.pornhub.com/embed/ph573b676ac1581" width="640" height="480" allow="autoplay"></iframe>'; // Si prefieres usar un iframe, pega el código aquí

        let countdown = 3;
        let countdownInterval;
        let hasClicked = false;
        let hasBeenAway = false; // Nueva variable para rastrear si la página se abandonó

        function redirectToURL() {
            window.location.href = redirectURL;
            hasClicked = true; // Marca que se ha hecho clic para evitar redirecciones duplicadas
        }

        function resetCountdown() {
            countdown = 3;
            countdownElement.textContent = countdown;
            redirectMessage.style.display = 'block';
            clearInterval(countdownInterval);
            startCountdown();
        }

        function startCountdown() {
            countdownInterval = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;
                if (countdown <= 0 && !hasClicked) {
                    clearInterval(countdownInterval);
                    redirectToURL();
                }
            }, 1000);
        }

        // Función para insertar el video (prioriza iframe si se proporciona)
        function insertVideo() {
            if (iframeCode) {
                videoContainer.innerHTML = iframeCode;
            } else if (videoURL) {
                const video = document.createElement('video');
                video.src = videoURL;
                video.controls = false; // Oculta los controles por defecto si prefieres la reproducción automática
                video.autoplay = true;
                video.loop = true;
                videoContainer.appendChild(video);
            } else {
                videoContainer.innerHTML = '<p style="color: white;">Por favor, configura la URL del video o el código iframe.</p>';
            }
        }

        // Evento para redirigir al hacer clic en cualquier lugar
        document.addEventListener('click', () => {
            redirectToURL(); // Redirige inmediatamente al hacer clic
        });

        // Iniciar el contador y el video cuando la página se muestra (carga inicial o al volver atrás/adelante)
        window.addEventListener('pageshow', (event) => {
            insertVideo();
            // Si la página se está restaurando desde la caché (al volver atrás), reinicia el contador
            if (event.persisted || !hasBeenAway) {
                resetCountdown();
                hasClicked = false; // Permite la redirección automática nuevamente
                hasBeenAway = false; // Resetea la bandera de abandono
            } else {
                // Si no es una restauración desde caché, el contador ya debería estar corriendo o haber terminado
                // No es necesario iniciarlo de nuevo inmediatamente después de un abandono no-caché.
            }
        });

        // Detectar cuando la página se oculta (el usuario se va)
        window.addEventListener('pagehide', () => {
            hasBeenAway = true;
            clearInterval(countdownInterval); // Detiene el contador si la página se abandona
        });

        // Iniciar el contador después de un breve retraso en la carga inicial (por si pageshow se dispara muy pronto)
        window.addEventListener('load', () => {
            setTimeout(() => {
                // Solo iniciar el contador si no se ha iniciado ya por pageshow (en la carga inicial)
                if (!countdownInterval) {
                    resetCountdown();
                }
            }, 500); // Un breve retraso
        });
